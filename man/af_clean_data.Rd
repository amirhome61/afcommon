% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_utils.R
\name{af_clean_data}
\alias{af_clean_data}
\title{Clean Data by Removing Countries and Rows with Missing Critical Variables}
\usage{
af_clean_data(df, critical_vars, country_critical_pct = 0.7)
}
\arguments{
\item{df}{(data.frame) The input data frame containing wave and country columns}

\item{critical_vars}{(character vector) List of critical variable names where no NA values are allowed}

\item{country_critical_pct}{(numeric) Minimum proportion of complete rows required to keep a country in each wave. Default is 0.7}
}
\value{
(list) A named list with three elements: df (cleaned data frame with no missing values in critical variables), problematic_countries (list of removed countries by wave), and percentages (data frame showing missing percentages for remaining countries)
}
\description{
Cleans a longitudinal dataset by identifying and removing countries with excessive
missing data in critical variables, then removing any remaining rows with missing values.
For each wave, calculates the percentage of complete rows per country and removes countries
below the threshold. Returns cleaned data, list of removed countries, and summary statistics.
}
