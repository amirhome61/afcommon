% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/af_regression.R
\name{af_build_formula}
\alias{af_build_formula}
\title{Build Complex Regression Formulas}
\usage{
af_build_formula(
  as_string = FALSE,
  response,
  predictors = NULL,
  random = NULL,
  nested = NULL,
  smooth = NULL,
  offset = NULL,
  poly = NULL,
  resp_transform = NULL,
  var_transform = NULL,
  interactions = NULL,
  cross = NULL,
  interaction_type = ":",
  weights = NULL,
  intercept = TRUE,
  grouping = NULL,
  constraints = NULL
)
}
\arguments{
\item{as_string}{(logical) Whether to return formula as string instead of formula object. Default is FALSE}

\item{response}{(character or character vector) Response variable name(s)}

\item{predictors}{(character vector) Main predictor variable names. Default is NULL}

\item{random}{(list) Random effects specifications for mixed models. Default is NULL}

\item{nested}{(list) Nested term specifications. Default is NULL}

\item{smooth}{(list) Smooth term specifications for GAMs. Default is NULL}

\item{offset}{(character or character vector) Offset variable name(s). Default is NULL}

\item{poly}{(named list) Polynomial specifications with variable names as keys and degrees as values. Default is NULL}

\item{resp_transform}{(character) Transformation function for response variable. Default is NULL}

\item{var_transform}{(named list) Predictor transformation specifications. Default is NULL}

\item{interactions}{(list) Interaction specifications with type information. Default is NULL}

\item{cross}{(list) Full factorial crossing specifications. Default is NULL}

\item{interaction_type}{(character) Type of interaction operator, either ":" or "*". Default is ":"}

\item{weights}{(character) Weight variable name. Default is NULL}

\item{intercept}{(logical) Whether to include intercept. Default is TRUE}

\item{grouping}{(character vector) Grouping variables for mixed models. Default is NULL}

\item{constraints}{(list) Constraint specifications. Default is NULL}
}
\value{
(formula or list) Either a formula object, a formula string, or a list containing formula and weights depending on parameters
}
\description{
Constructs complex regression formulas for various statistical models including linear,
generalized linear, mixed-effects, and generalized additive models. Supports multiple
response variables, polynomial terms, transformations, interactions, random effects, smooth
terms, and nested structures. Returns a formula object or string ready for model fitting.
}
